(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{8041:function(t,e,a){"use strict";var s=a("af78"),n=a.n(s);n.a},"8b24":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex flex-center"},[a("div",[a("q-header",{staticClass:"bg-white text-primary",attrs:{bordered:""}},[a("q-toolbar",[a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{staticClass:"desktop-only",attrs:{color:"white","text-color":"white",size:"60px"}},[a("img",{attrs:{src:"statics/icons/Icon-120.png"}})]),a("q-avatar",{staticClass:"mobile-only",attrs:{color:"white","text-color":"white",size:"44px"}},[a("img",{attrs:{src:"statics/icons/Icon-88.png"}})])],1),a("q-item-section",[a("div",{staticClass:"text-h4 desktop-only"},[t._v("REEF Push")]),a("div",{staticClass:"text-h6 mobile-only"},[t._v("REEF Push")]),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(t.$t("Easy way to send a value")))])],1)],1),a("q-space"),a("q-btn",{attrs:{round:"",color:"teal",label:t.language.substr(0,2)},on:{click:function(e){t.alertLang=!0}}})],1)],1),a("q-dialog",{model:{value:t.alertLang,callback:function(e){t.alertLang=e},expression:"alertLang"}},[a("q-card",{staticClass:"dialog-min300"},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("Choose a language")))])]),a("q-card-section",[a("q-list",t._l(t.languageList,(function(e){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.value,attrs:{tag:"label"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{val:e.value,color:"teal"},model:{value:t.language,callback:function(e){t.language=e},expression:"language"}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(e.label))])],1)],1)})),1)],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary"}})],1)],1)],1),a("q-stepper",{staticClass:"q-mt-none",staticStyle:{"min-width":"360px"},attrs:{vertical:"",color:"primary",animated:"","header-nav":""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("q-step",{attrs:{name:2,title:"1. "+t.$t("Send coins"),icon:"card_giftcard","active-icon":"card_giftcard"}},[a("q-tabs",{staticClass:"bg-primary text-white shadow-2 q-mt-sm",attrs:{dense:"","inline-label":"",align:"justify"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab",{attrs:{name:"address",label:t.$t("Address")}}),t._v("\n          "+t._s(t.$t("or"))+"\n          "),a("q-tab",{attrs:{name:"DeepLink",label:"DeepLink"},on:{click:function(e){return t.actionWallet()}}})],1),a("q-tab-panels",{attrs:{animated:"","transition-prev":"jump-right","transition-next":"jump-left"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"address"}},[a("div",{staticStyle:{height:"240px"}},[a("div",{staticClass:"text-subtitle1 q-pb-sm"},[t._v(t._s(t.$t("Send coins to address")))]),a("q-input",{attrs:{outlined:"",label:t.$t("Copy address"),"stack-label":"",readonly:""},on:{click:function(e){return t.copyAddress()}},scopedSlots:t._u([{key:"after",fn:function(){return[a("q-btn",{attrs:{icon:"file_copy",flat:"",round:""},on:{click:function(e){return t.copyAddress()}}})]},proxy:!0}]),model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}),a("div",{staticClass:"q-pt-sm"},[a("div",{staticClass:"text-subtitle1 q-pb-sm"},[t._v(t._s(t.$t("Use web wallet")))]),a("q-btn",{attrs:{type:"a",color:"purple",target:"_blank",icon:"account_balance_wallet",href:"https://wallet.bip.to/send",label:"Open wallet.bip.to"}}),a("br"),a("q-btn",{staticClass:"q-mt-sm",attrs:{type:"a",color:"deep-orange-8",target:"_blank",icon:"account_balance_wallet",href:"https://console.minter.network/",label:"Open console.minter"}})],1)],1)]),a("q-tab-panel",{staticStyle:{"padding-left":"0","padding-right":"0"},attrs:{name:"DeepLink"}},[a("div",{staticStyle:{height:"240px"}},[a("q-input",{attrs:{type:"number",label:t.$t("Amount")+" BIP",clearable:"",outlined:"",dense:""},model:{value:t.deeplinkAmount,callback:function(e){t.deeplinkAmount=t._n(e)},expression:"deeplinkAmount"}}),a("div",{staticClass:"q-pt-lg mobile-only"},[a("div",{staticClass:"text-subtitle1 q-pb-sm"},[t._v(t._s(t.$t("DeepLink open wallet")))]),a("q-btn",{attrs:{type:"a",color:"purple",target:"_blank",icon:"account_balance_wallet",href:t.deepLink,label:"Open BIP Wallet"},on:{click:function(e){return t.actionWallet()}}})],1),a("div",{staticClass:"text-center desktop-only"},[a("img",{staticClass:"q-mt-sm",staticStyle:{"max-width":"100%"},attrs:{src:t.qrImage}})])],1)])],1),a("q-separator"),a("q-stepper-navigation",[a("q-item",{staticClass:"q-pt-none q-pb-none"},[a("q-item-section",{attrs:{avatar:""}},[t.balance&&parseFloat(t.balance.total_balance_sum)>0?a("q-btn",{attrs:{loading:t.balanceUpdateLoading,size:"12px",color:"secondary",round:""},on:{click:function(e){return t.checkBalance()}},scopedSlots:t._u([{key:"loading",fn:function(){return[a("q-spinner-facebook")]},proxy:!0}],null,!1,4102112682)},[a("q-icon",{attrs:{name:"autorenew",size:"24px"}})],1):a("q-spinner-ios",{attrs:{color:"grey-8",size:"30px"}})],1),t.balance&&parseFloat(t.balance.total_balance_sum)>0?a("q-item-section",[a("div",{staticClass:"text-grey-8"},[t._v(t._s(t.$t("Update balance")))]),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(t.$t("Balance"))+": "+t._s(t.balance&&parseFloat(t.balance.total_balance_sum)>0?t.prettyNumber(t.balance.total_balance_sum,3):0)+" Bip")])],1):a("q-item-section",[a("div",{staticClass:"text-grey-8"},[t._v(t._s(t.$t("Waiting for coins")))]),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(t.$t("Balance"))+": 0 Bip")])],1)],1)],1)],1),a("q-step",{attrs:{name:3,title:"2. "+t.$t("Share link"),icon:"done","active-icon":"done","header-nav":t.balance&&parseFloat(t.balance.total_balance_sum)>0}},[a("div",{staticClass:"text-subtitle1"},[a("b",[t._v(t._s(t.$t("Gift balance")))]),a("span",{staticClass:"text-subtitle1 text-grey-6"},[t._v(" ("+t._s(t.address.substr(0,4)+"..."+t.address.substr(-4))+")")])]),a("div",{staticClass:"text-subtitle1"},[t._v("\n          "+t._s(t.balance&&parseFloat(t.balance.total_balance_sum)>0?t.prettyNumber(t.balance.total_balance_sum,3):0)+" BIP\n          "),a("span",{staticClass:"text-grey-6"},[t._v("(~ "+t._s(t.balance&&parseFloat(t.balance.total_balance_sum)>0?t.prettyNumber(t.balance.total_balance_sum_usd,2):0)+" usd ")]),a("span",{staticClass:"text-grey-6"},[t._v(" "+t._s(t.$t("or"))+" "+t._s(t.balance&&parseFloat(t.balance.total_balance_sum)>0?t.prettyNumber(parseFloat(t.balance.total_balance_sum_usd)*parseFloat(t.currency.BIPRUB),2):0)+" rub)")])]),a("q-btn",{staticClass:"q-mt-sm q-pr-sm q-pl-sm",attrs:{dense:"",color:"primary",label:t.$t("Add message")},on:{click:function(e){t.addMessageDialog=!0}}}),a("div",{staticClass:"text-subtitle1 q-pb-sm q-pt-md"},[t._v(t._s(t.$t("Send this link to your friend")))]),a("q-input",{attrs:{outlined:"",label:t.$t("Copy link"),"stack-label":"",readonly:""},on:{click:function(e){return t.copyLink()}},scopedSlots:t._u([{key:"after",fn:function(){return[a("q-btn",{attrs:{icon:"file_copy",flat:"",round:""},on:{click:function(e){return t.copyLink()}}})]},proxy:!0}]),model:{value:t.resultLink,callback:function(e){t.resultLink=e},expression:"resultLink"}}),t.shareTest()?a("div",{staticClass:"q-pt-md"},[a("q-btn",{attrs:{color:"positive",icon:"share",label:"Share"},on:{click:function(e){return t.share(t.resultLink)}}})],1):t._e(),a("div",{staticClass:"text-subtitle1 q-pb-sm q-pt-sm"},[t._v("\n          "+t._s(t.$t("or"))+"\n        ")]),a("div",{},[a("q-btn",{staticClass:"q-mb-sm q-mr-sm",attrs:{color:"deep-purple",size:"0.85em",icon:"select_all",label:t.$t("QR code")},on:{click:function(e){t.shareQRcode=!0}}}),a("q-btn",{staticClass:"q-mb-sm q-mr-sm",attrs:{color:"deep-purple",size:"0.85em",icon:"email",label:"Email"},on:{click:function(e){t.sendEmailDialog=!0}}}),a("br"),a("q-btn",{staticClass:"q-mb-sm q-mr-sm",attrs:{disabled:!0,color:"deep-purple",size:"0.85em",icon:"textsms",label:"SMS"}})],1)],1)],1),a("q-dialog",{model:{value:t.shareQRcode,callback:function(e){t.shareQRcode=e},expression:"shareQRcode"}},[a("q-card",[a("q-card-section",{staticClass:"text-center"},[a("img",{attrs:{src:t.shareQRImage}}),a("br"),a("q-btn",{staticClass:"q-mt-sm",attrs:{color:"deep-purple",icon:"get_app",label:t.$t("Download")},on:{click:t.downloadShareQR}})],1)],1)],1),a("q-dialog",{model:{value:t.addMessageDialog,callback:function(e){t.addMessageDialog=e},expression:"addMessageDialog"}},[a("q-card",{staticClass:"dialog-min300"},[a("q-card-section",[a("div",{staticClass:"q-pt-md"},[a("q-input",{attrs:{clearable:"",outlined:"",label:t.$t("Receiver name")},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("q-input",{staticClass:"q-pt-md",attrs:{clearable:"",outlined:"",label:t.$t("Sender name")},model:{value:t.from,callback:function(e){t.from=e},expression:"from"}}),a("q-input",{staticClass:"q-pt-md",attrs:{clearable:"",outlined:"",label:t.$t("Message")},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),a("div",{staticClass:"text-grey-6 q-pb-sm q-pt-md"},[t._v(t._s(t.$t("Fields are optional")))])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:t.$t("Add message"),color:"primary"}})],1)],1)],1),a("q-dialog",{model:{value:t.sendEmailDialog,callback:function(e){t.sendEmailDialog=e},expression:"sendEmailDialog"}},[a("q-card",{staticClass:"dialog-min300"},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("Enter recipient email")))]),a("div",{staticClass:"q-pt-md"},[a("q-input",{attrs:{type:"email",clearable:"",outlined:"",label:"Email"},scopedSlots:t._u([{key:"after",fn:function(){return[a("q-btn",{attrs:{icon:"send",disabled:!t.validateEmail(),color:"teal",round:""},on:{click:t.sendEmailAction}})]},proxy:!0}]),model:{value:t.emailUser,callback:function(e){t.emailUser=e},expression:"emailUser"}})],1)]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:t.$t("Close"),color:"primary"}})],1)],1)],1),a("q-dialog",{model:{value:t.sendEmailDialogSuccess,callback:function(e){t.sendEmailDialogSuccess=e},expression:"sendEmailDialogSuccess"}},[a("q-card",{staticClass:"dialog-min300"},[a("q-card-section",[a("div",{staticClass:"text-h5"},[t._v(t._s(t.$t("Email sent successfully"))+" "),a("span",{attrs:{color:"text-grey-8"}},[t._v(t._s(t.emailUser))])])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:t.$t("Close"),color:"primary"}})],1)],1)],1)],1)])},n=[],i=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("456d"),a("c47a")),l=a.n(i),o=(a("6b54"),a("06db"),a("28a5"),a("a481"),a("2f62")),r=a("29c9"),c=a("b862"),u=a("d055"),d=a.n(u),p=a("a2dc"),m=a("cdde");function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var h={name:"Index",data:function(){return{tab:"address",alertLang:!1,addMessageDialog:!1,sendEmailDialog:!1,sendEmailDialogSuccess:!1,shareQRcode:!1,languageList:[{label:"English",value:"en-us"},{label:"Russian",value:"ru"}],deeplinkAmount:10,mnemonic:null,step:2,username:null,from:null,message:null,isPassword:!1,mnemonicKey:null,isActionWallet:!1,wallet:null,balance:null,balanceUpdateLoading:!1,address:null,qrImage:null,emailUser:null,shareQRImage:null,deepLink:null,resultLink:null}},created:function(){this.mnemonic=Object(p["a"])(),this.wallet=Object(p["c"])(this.mnemonic),this.address=this.wallet.getAddressString(),this.generateDeepQRcode()},methods:{generateDeepQRcode:function(){var t=this,e={errorCorrectionLevel:"H",type:"image/png",width:200,margin:0},a={type:c["f"].SEND,data:{to:this.address,value:this.deeplinkAmount,coin:"BIP"}},s=Object(c["g"])(a,"minter://");this.deepLink=s.replace("https://minter://","minter://"),d.a.toDataURL(this.deepLink,e).then((function(e){t.qrImage=e})).catch((function(e){t.$q.notify({message:e,color:"purple"})}))},openLink:function(t){var e=window.open(t,"_blank");e.focus()},copyToClipboard:function(t){Object(m["a"])(t)},copyAddress:function(){Object(m["a"])(this.address),this.$q.notify({message:this.$t("Address copied"),color:"purple",position:"bottom",timeout:400}),this.actionWallet()},prettyNumber:function(t,e){if(void 0===t||null===t)return"0";var a=parseFloat(parseFloat(t).toFixed(e)),s=a.toString().split(".");return s[0]=s[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),s.join(".")},copyLink:function(){Object(m["a"])(this.resultLink),this.$q.notify({message:this.$t("Link copied"),color:"purple",position:"bottom",timeout:400})},actionWallet:function(){this.isActionWallet||(setTimeout(this.checkBalance,8e3),this.isActionWallet=!0)},shareTest:function(){return!!navigator.share},share:function(){navigator.share({title:"Подарочный кошелек c бонусом",text:"Переходи для получения",url:this.resultLink}).then((function(){return console.log("Successful share")})).catch((function(t){return console.log("Error sharing",t)}))},downloadShareQR:function(){var t=document.createElement("a");t.download="qr-push-gift.png",t.href=this.shareQRImage,t.click()},checkBalance:function(){var t=this;this.balanceUpdateLoading=!0,this.$axios.get("https://explorer-api.minter.network/api/v1/addresses/".concat(this.address,"?withSum=true")).then((function(e){setTimeout((function(){t.balanceUpdateLoading=!1}),350),e&&e.data&&e.data.data&&parseFloat(e.data.data.total_balance_sum)>0?(t.balance=e.data.data,t.step=3,t.generateLink(),t.copyLink()):null===t.balance&&setTimeout(t.checkBalance,4e3)})).catch((function(t){console.log(t)}))},sendEmailAction:function(){var t=this;this.validateEmail()&&(this.sendEmailDialog=!1,this.$store.dispatch("SEND_EMAIL",{email:this.emailUser,username:this.username,value:this.prettyNumber(this.balance&&this.balance.total_balance_sum||0,3),from:this.from,link:this.resultLink}).then((function(e){t.sendEmailDialogSuccess=!0,console.log(e)})).catch((function(t){console.log(t)})))},validateEmail:function(){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(this.emailUser).toLowerCase())},generateLink:function(){var t=this;this.mnemonicKey=this.mnemonic.split(" ").map((function(t){return r["wordlists"].english.indexOf(t)})).join("."),this.isPassword;var e=this.username?"&username="+encodeURIComponent(this.username):"",a=this.from?"&from="+encodeURIComponent(this.from):"",s=this.message?"&message="+encodeURIComponent(this.message):"";"localhost"===location.hostname?this.resultLink="http://localhost:8080/#/gift?key="+encodeURIComponent(this.mnemonicKey)+e+a+s:this.resultLink="https://push.reef.mn/#/gift?key="+encodeURIComponent(this.mnemonicKey)+e+a+s,Object(m["a"])(this.resultLink);var n={errorCorrectionLevel:"H",type:"image/png",width:200,margin:0};d.a.toDataURL(this.resultLink,n).then((function(e){t.shareQRImage=e})).catch((function(t){console.error(t)}))}},computed:g({},Object(o["b"])({language:function(t){return t.app.language},currency:function(t){return t.api.currency}}),{language:{get:function(){return this.$store.state.app.language},set:function(t){this.$store.commit("SET_LANG",t)}}}),watch:{deeplinkAmount:function(){this.generateDeepQRcode()},language:function(t){this.$i18n.locale=t},username:function(t){this.generateLink()},from:function(t){this.generateLink()},message:function(t){this.generateLink()}}},f=h,v=(a("8041"),a("2877")),q=a("eebe"),_=a.n(q),k=a("9989"),y=a("e359"),x=a("65c6"),C=a("66e5"),w=a("4074"),L=a("cb32"),S=a("0170"),$=a("2c91"),Q=a("9c40"),E=a("24e8"),D=a("f09f"),O=a("a370"),R=a("1c1c"),I=a("3786"),A=a("4b7e"),j=a("f531"),P=a("87fe"),U=a("429bb"),F=a("7460"),B=a("adad"),N=a("823b"),T=a("27f9"),z=a("eb85"),W=a("b19c"),M=a("d9b2"),K=a("0016"),H=a("e669"),G=a("9149"),J=a("714f"),Z=a("7f67"),V=Object(v["a"])(f,s,n,!1,null,null,null);e["default"]=V.exports;_()(V,"components",{QPage:k["a"],QHeader:y["a"],QToolbar:x["a"],QItem:C["a"],QItemSection:w["a"],QAvatar:L["a"],QItemLabel:S["a"],QSpace:$["a"],QBtn:Q["a"],QDialog:E["a"],QCard:D["a"],QCardSection:O["a"],QList:R["a"],QRadio:I["a"],QCardActions:A["a"],QStepper:j["a"],QStep:P["a"],QTabs:U["a"],QTab:F["a"],QTabPanels:B["a"],QTabPanel:N["a"],QInput:T["a"],QSeparator:z["a"],QStepperNavigation:W["a"],QSpinnerIos:M["a"],QIcon:K["a"],QSpinnerFacebook:H["a"],QSpinnerHourglass:G["a"]}),_()(V,"directives",{Ripple:J["a"],ClosePopup:Z["a"]})},af78:function(t,e,a){}}]);